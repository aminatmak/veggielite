<div class="banner" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(https://images.unsplash.com/photo-1517260739337-6799d239ce83?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2370&q=80);">
  <h1>All Shops</h1>
  <p>Browse through all Veggielite's partners!</p>
</div>

<div class="container position absolute">
  <div class="row">
    <div class="col">
      <div data-controller="search-shops">
        <%= form_with url: shops_path, method: :get, html: { class:
            'mb-4', data: { search_shops_target: 'form' } } do |f| %>
          <%= f.text_field :query,
                          class: "form-control",
                          placeholder: 'Search shops...',
                          value: params[:query],
                          data: {
                            search_shops_target: 'input',
                            action: 'keyup->search-shops#search'
                            } %>
        <% end %>
        <div class="navigation menu_items d-flex justify-content-center">
          <ul class="list-inline">
            <li class="gluten-free list-inline-item">
              <div>
                <%= link_to products_path, class:'nav-link' do %>
                  <i class="fas fa-utensils"></i>
                <% end %>
              </div>
              All Products
            </li>
            <li class="gluten-free list-inline-item">
              <div>
                <%= link_to products_path(category: "Gluten free"), class:'nav-link' do %>
                  <i class="fas fa-cookie-bite"></i>
                <% end %>
              </div>
              Gluten free
            </li>
            <li class="sugar-free list-inline-item">
              <div>
                <%= link_to products_path(category: "Sugar free"),class:'nav-link' do %>
                <i class="fas fa-birthday-cake"></i>
                <% end %>
              </div>
              Sugar free
            </li>
            <li class="dairy-free list-inline-item">
              <div>
                <%= link_to products_path(category: "Dairy free"),class:'nav-link' do %>
                <i class="fas fa-ice-cream"></i>
                <% end %>
              </div>
              Dairy free
            </li>
            <li class="vegan list-inline-item">
              <div>
                <%= link_to products_path(category: "Vegan"),class:'nav-link' do %>
                <i class="fas fa-seedling"></i>
                <% end %>
              </div>
              Vegan
            </li>
            <li class="vegetarian list-inline-item">
              <div>
                <%= link_to products_path(category: "Vegetarian"),class:'nav-link' do %>
                <i class="fas fa-carrot"></i>
                <% end %>
              </div>
              Vegetarian
            </li>
            <li class="pescetarian list-inline-item">
              <div>
                <%= link_to products_path(category: "Pescetarian"),class:'nav-link' do %>
                <i class="fas fa-fish"></i>
                <% end %>
              </div>
              Pescetarian
            </li>
            <li class="organic list-inline-item">
              <div>
                <%= link_to products_path(category: "Organic"),class:'nav-link' do %>
                <i class="fab fa-pagelines"></i>
                <% end %>
              </div>
              Organic
            </li>
          </ul>
        </div>
      </div>
      <div class="container position absolute">
        <div class="row">
          <div class="col">
            <div class="mproduct-card">
              <div class="cards">
                <% @shops.each do |shop| %>
                  <div class="card-trip position relative">
                <% if shop.photos.attached? %>
                <%= cl_image_tag shop.photos.first.key %>
              <% end %>
            <div class="col-4">
              <div class="card-trip-infos">
                <div class="card-body">
                  <h1><strong><%= shop.name %></strong></h1>
                  <p><strong> Address: </strong></p><%= shop.address %></p>
                  <p><strong> Phone Number: </strong></p><%= shop.phone_number %></p>
                  <p><strong> Email Address: </strong><%= shop.email %></p>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div>

<div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
